{"version":3,"file":"js/853.1838275b.js","mappings":"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","sources":["webpack://budget-buddy/./src/views/Account.vue","webpack://budget-buddy/./src/views/Account.vue?727f"],"sourcesContent":["<template>\n    <Loading :active=\"isLoading\" style=\"z-index: 9999\"></Loading>\n    <div class=\"container-fluid d-flex justify-content-center\">\n        <div class=\"mt-5 col-4\">\n            <div class=\"d-flex justify-content-center\">\n                <img src=\"https://picsum.photos/200\" alt=\"大頭照\" class=\"mb-3 account-img\">\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"\" class=\"form-label\">姓名</label>\n                <input type=\"text\" class=\"form-control\" v-model=\"account.name\">\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"\" class=\"form-label\">Email</label>\n                <input type=\"text\" class=\"form-control\" v-model=\"account.email\" disabled>\n            </div>\n            <div class=\"mb-5\">\n                <label for=\"\" class=\"form-label\">密碼</label>\n                <div class=\"input-group\">\n                    <input :type=\"cantEditPsw ? 'password' : 'text'\" class=\"form-control\" v-model=\"account.password\" :disabled=\"cantEditPsw\">\n                    <button class=\"btn gray-btn\" @click.prevent=\"cantEditPsw = !cantEditPsw\">\n                        <span v-if=\"cantEditPsw\">編輯密碼</span>\n                        <span v-else>暫存編輯</span>\n                    </button>\n                </div>\n            </div>\n            <div class=\"d-flex justify-content-center\">\n                <button class=\"me-2 btn gray-btn\" @click.prevent=\"getAccount\">取消變更</button>\n                <button class=\"ms-2 btn textblue-btn\" @click.prevent=\"updateAccount\">儲存變更</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      account: {},\n      cantEditPsw: true,\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getAccount () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/user`\n\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        // console.log('account:', res.data)\n\n        this.account = res.data\n        this.tempPsw = res.data.password\n        // 預設取得帳戶資料時，密碼欄位一律無法編輯（欄位文字顯示隱碼）\n        this.cantEditPsw = true\n      })\n    },\n    updateAccount () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/user/update`\n\n      this.$http.post(api, { name: this.account.name, password: this.account.password }).then((res) => {\n        this.isLoading = false\n        this.cantEditPsw = true\n\n        // console.log(res.data)\n\n        if (res.status > 200 && res.status < 300) {\n          this.emitter.emit('notification', { success: true, title: '帳戶資料更新成功', content: '' })\n        }\n\n        this.getAccount()\n      })\n    }\n  },\n  created () {\n    this.getAccount()\n  }\n}\n</script>\n","import { render } from \"./Account.vue?vue&type=template&id=82e2f5b0\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","alt","for","_createVNode","_component_Loading","active","$data","isLoading","style","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","account","name","$event","_hoisted_6","_hoisted_7","email","disabled","_hoisted_8","_hoisted_9","_hoisted_10","cantEditPsw","password","onClick","_cache","_withModifiers","_createElementBlock","_hoisted_12","_hoisted_13","_hoisted_14","args","$options","getAccount","updateAccount","data","inject","methods","this","api","$http","get","then","res","tempPsw","post","status","emitter","emit","success","title","content","created","__exports__","render"],"sourceRoot":""}