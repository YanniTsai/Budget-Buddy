"use strict";(self["webpackChunkbudget_buddy"]=self["webpackChunkbudget_buddy"]||[]).push([[290],{8290:function(t,s,n){n.r(s),n.d(s,{default:function(){return E}});var e=n(3396),a=n(9242);const c={class:"container-fluid d-flex justify-content-center"},i={class:"mt-5 col-6"},o=(0,e._)("div",{class:"d-flex justify-content-center"},[(0,e._)("img",{src:"https://picsum.photos/200",alt:"大頭照",class:"mb-3 account-img"})],-1),l={class:"mb-3"},d=(0,e._)("label",{for:"",class:"form-label"},"姓名",-1),u={class:"mb-3"},r=(0,e._)("label",{for:"",class:"form-label"},"Email",-1),p={class:"mb-5"},m=(0,e._)("label",{for:"",class:"form-label"},"密碼",-1),b={class:"input-group"},h=["type","disabled"],w={key:0},f={key:1},g={class:"d-flex justify-content-center"};function y(t,s,n,y,_,v){const k=(0,e.up)("Loading");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(k,{active:_.isLoading,style:{"z-index":"9999"}},null,8,["active"]),(0,e._)("div",c,[(0,e._)("div",i,[o,(0,e._)("div",l,[d,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>_.account.name=t)},null,512),[[a.nr,_.account.name]])]),(0,e._)("div",u,[r,(0,e.wy)((0,e._)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>_.account.email=t),disabled:""},null,512),[[a.nr,_.account.email]])]),(0,e._)("div",p,[m,(0,e._)("div",b,[(0,e.wy)((0,e._)("input",{type:_.cantEditPsw?"password":"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>_.account.password=t),disabled:_.cantEditPsw},null,8,h),[[a.YZ,_.account.password]]),(0,e._)("button",{class:"btn gray-btn",onClick:s[3]||(s[3]=(0,a.iM)((t=>_.cantEditPsw=!_.cantEditPsw),["prevent"]))},[_.cantEditPsw?((0,e.wg)(),(0,e.iD)("span",w,"編輯密碼")):((0,e.wg)(),(0,e.iD)("span",f,"暫存編輯"))])])]),(0,e._)("div",g,[(0,e._)("button",{class:"me-2 btn gray-btn",onClick:s[4]||(s[4]=(0,a.iM)(((...t)=>v.getAccount&&v.getAccount(...t)),["prevent"]))},"取消變更"),(0,e._)("button",{class:"ms-2 btn textblue-btn",onClick:s[5]||(s[5]=(0,a.iM)(((...t)=>v.updateAccount&&v.updateAccount(...t)),["prevent"]))},"儲存變更")])])])],64)}var _={data(){return{account:{},cantEditPsw:!0,isLoading:!1}},inject:["emitter"],methods:{getAccount(){this.isLoading=!0;const t="https://wide-eyed-sneakers-newt.cyclic.app/api/user";this.$http.get(t).then((t=>{this.isLoading=!1,this.account=t.data,this.tempPsw=t.data.password,this.cantEditPsw=!0}))},updateAccount(){this.isLoading=!0;const t="https://wide-eyed-sneakers-newt.cyclic.app/api/user/update";this.$http.post(t,{name:this.account.name,password:this.account.password}).then((t=>{this.isLoading=!1,this.cantEditPsw=!0,t.status>200&&t.status<300&&this.emitter.emit("notification",{success:!0,title:"帳戶資料更新成功",content:""}),this.getAccount()}))}},created(){this.getAccount()}},v=n(89);const k=(0,v.Z)(_,[["render",y]]);var E=k}}]);
//# sourceMappingURL=290.4c7004a3.js.map