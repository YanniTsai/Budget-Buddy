{"version":3,"file":"js/507.6c72420d.js","mappings":"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","sources":["webpack://budget-buddy/./src/views/Ledger.vue","webpack://budget-buddy/./src/components/LedgerModal.vue","webpack://budget-buddy/./src/components/LedgerModal.vue?be02","webpack://budget-buddy/./src/views/Ledger.vue?4db7"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" style=\"z-index: 9999\"></Loading>\n  <div class=\"p-5 row justify-content-center justify-content-md-start\">\n    <div class=\"card col-12 col-md-3 me-3 mb-3 p-0\" v-for=\"(item, index) in ledgers\" :key=\"'ledger'+index\">\n      <div class=\"card-img\">\n        <router-link :to=\"'/dashboard/ledger/' + item._id\">\n          <img :src=\"item.image\" alt=\"帳簿封面\" />\n          <div class=\"title d-flex justify-content-center align-items-center\">\n              <h5 class=\"card-title m-0\">{{ item.name }}</h5>\n          </div>\n          <div class=\"card-body overflow-scroll\">\n            <p class=\"card-text\">\n              {{ item.description }}\n            </p>\n          </div>\n        </router-link>\n        <!-- 編輯/刪除 -->\n        <div class=\"edit-delete d-flex justify-content-end align-items-start\">\n            <button class=\"btn text-white\" @click=\"openModal(false, item)\">\n                <i class=\"bi bi-pencil\"></i>\n            </button>\n            <button class=\"btn text-danger\" @click=\"openDeleteModal(item)\">\n                <i class=\"bi bi-trash\"></i>\n            </button>\n        </div>\n      </div>\n    </div>\n    <button class=\"add-ledger-btn\" @click=\"openModal(true)\"><i class=\"bi bi-plus\"></i></button>\n  </div>\n  <LedgerModal ref=\"ledgerModal\" :ledger=\"tempLedger\" @update-Ledger=\"updateLedger\"></LedgerModal>\n  <DeleteModal ref=\"deleteModal\" :name=\"tempLedger.name\" @delete-item=\"deleteLedger\"></DeleteModal>\n</template>\n\n<script>\nimport LedgerModal from '../components/LedgerModal.vue'\nimport DeleteModal from '../components/DeleteModal.vue'\n\nexport default {\n  data () {\n    return {\n      ledgers: [],\n      tempLedger: {},\n      isNew: false,\n      isLoading: false\n    }\n  },\n  components: {\n    LedgerModal,\n    DeleteModal\n  },\n  methods: {\n    getLedgers () {\n      const api = `${process.env.VUE_APP_API}api/ledger`\n\n      this.$http.get(api).then((res) => {\n        console.log('ledger:', res.data)\n\n        this.ledgers = res.data\n      })\n    },\n    openModal (isNew, item) {\n      if (isNew) {\n        this.tempLedger = {}\n      } else {\n        this.tempLedger = { ...item }\n      }\n\n      this.isNew = isNew\n      this.$refs.ledgerModal.showModal()\n    },\n    updateLedger (item) {\n      this.isLoading = true\n\n      let api = `${process.env.VUE_APP_API}api/ledger/create`\n      let httpMethod = 'post'\n      let ledgerInfo = item\n\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/ledger/update`\n        httpMethod = 'patch'\n        ledgerInfo = {\n          ledgerId: item._id,\n          name: item.name,\n          image: item.image,\n          description: item.description\n        }\n      }\n\n      this.$http[httpMethod](api, ledgerInfo).then((res) => {\n        this.isLoading = false\n        console.log(res)\n\n        this.$refs.ledgerModal.hideModal()\n        this.getLedgers()\n      })\n    },\n    openDeleteModal (item) {\n      this.tempLedger = { ...item }\n      this.$refs.deleteModal.showModal()\n    },\n    deleteLedger () {\n      this.isLoading = true\n\n      const api = `${process.env.VUE_APP_API}api/ledger/delete/${this.tempLedger._id}`\n\n      this.$http.delete(api).then((res) => {\n        this.isLoading = false\n\n        console.log(res.data)\n\n        this.$refs.deleteModal.hideModal()\n\n        this.getLedgers()\n      })\n    }\n  },\n  created () {\n    this.getLedgers()\n  }\n}\n</script>\n","<template>\n    <div class=\"modal ledger-modal\" tabindex=\"-1\" ref=\"modal\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">新增帳簿</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <div class=\"mb-3\">\n                                <label for=\"name\" class=\"form-label\">帳簿名稱</label>\n                                <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"tempLedger.name\">\n                            </div>\n                            <div class=\"mb-3\">\n                                <label for=\"currency\" class=\"form-label\">幣別</label>\n                                <select class=\"form-select\" aria-label=\"Default select example\">\n                                    <option selected>幣別</option>\n                                    <option value=\"NTD\">台幣</option>\n                                    <option value=\"USD\">美金</option>\n                                </select>\n                            </div>\n                            <div class=\"mb-3\">\n                                <label for=\"describe\" class=\"form-label\">帳簿描述</label>\n                                <textarea class=\"form-control\" id=\"describe\" rows=\"3\" v-model=\"tempLedger.description\"></textarea>\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"mb-3\">\n                                <label for=\"uploadImg\" class=\"form-label\">帳簿封面</label>\n                                <input type=\"file\" class=\"form-control\" id=\"uploadImg\">\n                                <input type=\"text\" class=\"form-control mt-2\" v-model=\"tempLedger.image\">\n                                <div class=\"mt-2\" v-if=\"tempLedger.image\">\n                                  <img :src=\"tempLedger.image\" alt=\"帳簿封面\" width=\"200\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n                    <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-ledger', tempLedger)\">新增</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal'\n\nexport default {\n  props: {\n    ledger: {}\n  },\n  data () {\n    return {\n      modal: {},\n      tempLedger: {}\n    }\n  },\n  watch: {\n    ledger () {\n      this.tempLedger = this.ledger\n    }\n  },\n  methods: {\n    showModal () {\n      this.modal.show()\n    },\n    hideModal () {\n      this.modal.hide()\n    }\n  },\n  mounted () {\n    this.modal = new Modal(this.$refs.modal)\n  }\n}\n</script>\n","import { render } from \"./LedgerModal.vue?vue&type=template&id=5705d537\"\nimport script from \"./LedgerModal.vue?vue&type=script&lang=js\"\nexport * from \"./LedgerModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Ledger.vue?vue&type=template&id=6b684f21\"\nimport script from \"./Ledger.vue?vue&type=script&lang=js\"\nexport * from \"./Ledger.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_10","_hoisted_13","_hoisted_15","_createVNode","_component_Loading","active","$data","isLoading","style","_hoisted_1","_createElementBlock","_Fragment","_renderList","ledgers","item","index","key","_hoisted_2","_component_router_link","to","_id","src","image","alt","_hoisted_4","_hoisted_5","_toDisplayString","name","_hoisted_6","_hoisted_7","description","_hoisted_8","onClick","$event","$options","openModal","openDeleteModal","_cache","_component_LedgerModal","ref","ledger","tempLedger","onUpdateLedger","updateLedger","_component_DeleteModal","onDeleteItem","deleteLedger","tabindex","type","for","id","_hoisted_3","_hoisted_9","_hoisted_11","_hoisted_12","rows","_hoisted_14","_hoisted_16","_hoisted_17","width","_hoisted_19","_hoisted_20","_ctx","$emit","props","data","modal","watch","this","methods","showModal","show","hideModal","hide","mounted","Modal","$refs","__exports__","isNew","components","LedgerModal","DeleteModal","getLedgers","api","$http","get","then","res","console","log","ledgerModal","httpMethod","ledgerInfo","ledgerId","deleteModal","delete","created","render"],"sourceRoot":""}